<?xml version="1.0" encoding="utf-8" ?>
<ContentView x:Class="LinguaLearn.Mobile.Components.UserProfileHeaderView"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:material="clr-namespace:HorusStudio.Maui.MaterialDesignControls;assembly=HorusStudio.Maui.MaterialDesignControls"
             xmlns:models="clr-namespace:LinguaLearn.Mobile.Models"
             x:DataType="models:UserProfile">

    <material:MaterialCard CornerRadius="20" 
                           Padding="20"
                           BackgroundColor="{AppThemeBinding Light={StaticResource SurfaceLight}, Dark={StaticResource SurfaceDark}}">
        <Grid ColumnDefinitions="Auto,*,Auto" 
              RowDefinitions="Auto,Auto" 
              ColumnSpacing="15">
            
            <!-- User Avatar -->
            <Border Grid.Row="0" 
                    Grid.Column="0"
                    Grid.RowSpan="2"
                    StrokeShape="RoundRectangle 30"
                    WidthRequest="60"
                    HeightRequest="60"
                    BackgroundColor="{StaticResource Primary}">
                <Label Text="{Binding DisplayName, Converter={StaticResource FirstCharConverter}}"
                       HorizontalOptions="Center"
                       VerticalOptions="Center"
                       FontSize="24"
                       TextColor="{StaticResource OnPrimary}"
                       FontAttributes="Bold" />
            </Border>
            
            <!-- User Info -->
            <Label Grid.Row="0" 
                   Grid.Column="1"
                   Text="{Binding DisplayName}"
                   FontFamily="OpenSansSemibold"
                   FontSize="24"
                   TextColor="{AppThemeBinding Light={StaticResource OnBackgroundLight}, Dark={StaticResource OnBackgroundDark}}" />
            
            <StackLayout Grid.Row="1" 
                         Grid.Column="1"
                         Orientation="Horizontal"
                         Spacing="10">
                <Label Text="Level"
                       FontFamily="OpenSansRegular"
                       FontSize="16"
                       TextColor="{AppThemeBinding Light={StaticResource OnSurfaceLight}, Dark={StaticResource OnSurfaceDark}}" />
                <Label Text="{Binding Level}"
                       FontFamily="OpenSansRegular"
                       FontSize="16"
                       FontAttributes="Bold"
                       TextColor="{StaticResource Primary}" />
                
                <BoxView WidthRequest="1"
                         HeightRequest="20"
                         Color="{StaticResource Outline}"
                         VerticalOptions="Center" />
                
                <Label Text="XP"
                       FontFamily="OpenSansRegular"
                       FontSize="16"
                       TextColor="{AppThemeBinding Light={StaticResource OnSurfaceLight}, Dark={StaticResource OnSurfaceDark}}" />
                <Label Text="{Binding XP}"
                       FontFamily="OpenSansRegular"
                       FontSize="16"
                       FontAttributes="Bold"
                       TextColor="{StaticResource Primary}" />
            </StackLayout>
            
            <!-- Streak Counter -->
            <StackLayout Grid.Row="0"
                         Grid.Column="2"
                         Grid.RowSpan="2"
                         Orientation="Horizontal"
                         Spacing="5"
                         HorizontalOptions="End"
                         VerticalOptions="Center">
                <Label Text="ðŸ”¥"
                       FontSize="24" />
                <Label Text="{Binding StreakCount}"
                       FontFamily="OpenSansSemibold"
                       FontSize="24"
                       TextColor="{AppThemeBinding Light={StaticResource OnBackgroundLight}, Dark={StaticResource OnBackgroundDark}}"
                       VerticalOptions="Center" />
            </StackLayout>
        </Grid>
    </material:MaterialCard>
</ContentView>