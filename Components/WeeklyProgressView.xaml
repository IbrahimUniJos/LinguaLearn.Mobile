<?xml version="1.0" encoding="utf-8" ?>
<ContentView x:Class="LinguaLearn.Mobile.Components.WeeklyProgressView"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:material="clr-namespace:HorusStudio.Maui.MaterialDesignControls;assembly=HorusStudio.Maui.MaterialDesignControls"
             xmlns:models="clr-namespace:LinguaLearn.Mobile.Models"
             x:DataType="models:WeeklyProgress">

    <material:MaterialCard CornerRadius="20" 
                           Padding="20"
                           BackgroundColor="{AppThemeBinding Light={StaticResource SurfaceLight}, Dark={StaticResource SurfaceDark}}">
        <StackLayout Spacing="15">
            <Label Text="Weekly Goal"
                   FontFamily="OpenSansSemibold"
                   FontSize="24"
                   TextColor="{AppThemeBinding Light={StaticResource OnBackgroundLight}, Dark={StaticResource OnBackgroundDark}}" />
            
            <Grid ColumnDefinitions="Auto,*" 
                  RowDefinitions="Auto,Auto"
                  ColumnSpacing="20">
                
                <!-- Progress Ring -->
                <Grid Grid.Row="0"
                      Grid.Column="0"
                      Grid.RowSpan="2"
                      WidthRequest="100"
                      HeightRequest="100"
                      HorizontalOptions="Start">
                    
                    <!-- Background Circle -->
                    <Ellipse Fill="{StaticResource SurfaceVariant}"
                             WidthRequest="100"
                             HeightRequest="100" />
                    
                    <!-- Progress Arc -->
                    <ProgressBar x:Name="CircularProgress"
                                 ProgressColor="{StaticResource Primary}"
                                 BackgroundColor="Transparent"
                                 WidthRequest="100"
                                 HeightRequest="100" />
                    
                    <!-- Center Text -->
                    <StackLayout HorizontalOptions="Center"
                                 VerticalOptions="Center">
                        <Label Text="{Binding LessonsCompleted}"
                               FontFamily="OpenSansSemibold"
                               FontSize="20"
                               TextColor="{StaticResource Primary}"
                               HorizontalOptions="Center" />
                        <Label Text="lessons"
                               FontFamily="OpenSansRegular"
                               FontSize="12"
                               TextColor="{AppThemeBinding Light={StaticResource OnSurfaceLight}, Dark={StaticResource OnSurfaceDark}}"
                               HorizontalOptions="Center" />
                    </StackLayout>
                </Grid>
                
                <!-- Goal Info -->
                <StackLayout Grid.Row="0"
                             Grid.Column="1"
                             Spacing="5"
                             VerticalOptions="Center">
                    <Label Text="{Binding LessonsCompleted, StringFormat='{0} lessons completed'}"
                           FontFamily="OpenSansRegular"
                           FontSize="18"
                           TextColor="{AppThemeBinding Light={StaticResource OnSurfaceLight}, Dark={StaticResource OnSurfaceDark}}" />
                    
                    <Label Text="{Binding Goal, StringFormat='Goal: {0} lessons'}"
                           FontFamily="OpenSansRegular"
                           FontSize="16"
                           TextColor="{AppThemeBinding Light={StaticResource OnSurfaceLight}, Dark={StaticResource OnSurfaceDark}}" />
                    
                    <ProgressBar x:Name="WeeklyProgressBar"
                                 ProgressColor="{StaticResource Primary}"
                                 BackgroundColor="{StaticResource SurfaceVariant}"
                                 HeightRequest="8"
                                 Margin="0,5,0,0" />
                </StackLayout>
            </Grid>
        </StackLayout>
    </material:MaterialCard>
</ContentView>